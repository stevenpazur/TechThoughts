(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{62:function(t,e,c){},66:function(t,e,c){"use strict";c.r(e);var n,a,s,r,h=c(3),o=c.n(h),i=c(51),l=c.n(i),d=(c(62),c(55)),j=c(77),u=c(75),b=c(19),m=c(5),x=c(74),g=c(2),O=function(t){var e=t.thoughts,c=t.title;return e.length?Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:c}),e&&e.map((function(t){return Object(g.jsxs)("div",{className:"card mb-3",children:[Object(g.jsxs)("h4",{className:"card-header bg-info text-light p-2 m-0",children:[t.thoughtAuthor," ",Object(g.jsx)("br",{}),Object(g.jsxs)("span",{style:{fontSize:"1rem"},children:["had this thought on ",t.createdAt]})]}),Object(g.jsx)("div",{className:"card-body bg-light p-2",children:Object(g.jsx)("p",{children:t.thoughtText})}),Object(g.jsx)(b.b,{className:"btn btn-info btn-block btn-squared",to:"/thoughts/".concat(t._id),children:"Join the discussion on this thought."})]},t._id)}))]}):Object(g.jsx)("h3",{children:"No Thoughts Yet"})},p=c(34),f=c(29),v=c(36),N=c(53),y=c(12),T=c(26),w=c.n(T),A=c(72),S=c(27),k=c(76),I=Object(k.a)(n||(n=Object(S.a)(["\n  mutation addThought($thoughtText: String!, $thoughtAuthor: String!) {\n    addThought(thoughtText: $thoughtText, thoughtAuthor: $thoughtAuthor) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n      }\n    }\n  }\n"]))),C=Object(k.a)(a||(a=Object(S.a)(["\n  mutation addComment($thoughtId: ID!, $commentText: String!) {\n    addComment(thoughtId: $thoughtId, commentText: $commentText) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        createdAt\n      }\n    }\n  }\n"]))),_=Object(k.a)(s||(s=Object(S.a)(["\n  query getThoughts {\n    thoughts {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n    }\n  }\n"]))),$=Object(k.a)(r||(r=Object(S.a)(["\n  query getSingleThought($thoughtId: ID!) {\n    thought(thoughtId: $thoughtId) {\n      _id\n      thoughtText\n      thoughtAuthor\n      createdAt\n      comments {\n        _id\n        commentText\n        createdAt\n      }\n    }\n  }\n"]))),q=function(){var t=Object(h.useState)({thoughtText:"",thoughtAuthor:""}),e=Object(y.a)(t,2),c=e[0],n=e[1],a=Object(h.useState)(0),s=Object(y.a)(a,2),r=s[0],o=s[1],i=Object(A.a)(I,{update:function(t,e){var c=e.data.addThought;try{var n=t.readQuery({query:_}).thoughts;t.writeQuery({query:_,data:{thoughts:[c].concat(Object(N.a)(n))}})}catch(a){console.error(a)}}}),l=Object(y.a)(i,2),d=l[0],j=l[1].error,u=function(){var t=Object(v.a)(w.a.mark((function t(e){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,d({variables:Object(f.a)({},c)});case 4:a=t.sent,a.data,n({thoughtText:"",thoughtAuthor:""}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),b=function(t){var e=t.target,a=e.name,s=e.value;"thoughtText"===a&&s.length<=280?(n(Object(f.a)(Object(f.a)({},c),{},Object(p.a)({},a,s))),o(s.length)):"thoughtText"!==a&&n(Object(f.a)(Object(f.a)({},c),{},Object(p.a)({},a,s)))};return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"What's on your techy mind?"}),Object(g.jsxs)("p",{className:"m-0 ".concat(280===r||j?"text-danger":""),children:["Character Count: ",r,"/280",j&&Object(g.jsx)("span",{className:"ml-2",children:"Something went wrong..."})]}),Object(g.jsxs)("form",{className:"flex-row justify-center justify-space-between-md align-center",onSubmit:u,children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("textarea",{name:"thoughtText",placeholder:"Here's a new thought...",value:c.thoughtText,className:"form-input w-100",style:{lineHeight:"1.5"},onChange:b})}),Object(g.jsx)("div",{className:"col-12 col-lg-9",children:Object(g.jsx)("input",{name:"thoughtAuthor",placeholder:"Add your name to get credit for the thought...",value:c.thoughtAuthor,className:"form-input w-100",onChange:b})}),Object(g.jsx)("div",{className:"col-12 col-lg-3",children:Object(g.jsx)("button",{className:"btn btn-info btn-block py-3",type:"submit",children:"Add Thought"})}),j&&Object(g.jsx)("div",{className:"col-12 my-3 bg-danger text-white p-3",children:"Something went wrong..."})]})]})},F=function(){var t=Object(x.a)(_),e=t.loading,c=t.data,n=(null===c||void 0===c?void 0:c.thoughts)||[];return Object(g.jsx)("main",{children:Object(g.jsxs)("div",{className:"flex-row justify-center",children:[Object(g.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",style:{border:"1px dotted #1a1a1a"},children:Object(g.jsx)(q,{})}),Object(g.jsx)("div",{className:"col-12 col-md-8 mb-3",children:e?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsx)(O,{thoughts:n,title:"Some Feed for Thought(s)..."})})]})})},L=function(t){var e=t.comments,c=void 0===e?[]:e;return console.log(c),c.length?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{className:"p-5 display-inline-block",style:{borderBottom:"1px dotted #1a1a1a"},children:"Comments"}),Object(g.jsx)("div",{className:"flex-row my-4",children:c&&c.map((function(t){return Object(g.jsx)("div",{className:"col-12 mb-3 pb-3",children:Object(g.jsxs)("div",{className:"p-3 bg-dark text-light",children:[Object(g.jsxs)("h5",{className:"card-header",children:["An anonymous user commented"," ",Object(g.jsxs)("span",{style:{fontSize:"0.825rem"},children:["on ",t.createdAt]})]}),Object(g.jsx)("p",{className:"card-body",children:t.commentText})]})},t._id)}))})]}):Object(g.jsx)("h3",{children:"No Comments Yet"})},z=function(t){var e=t.thoughtId,c=Object(h.useState)(""),n=Object(y.a)(c,2),a=n[0],s=n[1],r=Object(h.useState)(0),o=Object(y.a)(r,2),i=o[0],l=o[1],d=Object(A.a)(C),j=Object(y.a)(d,2),u=j[0],b=j[1].error,m=function(){var t=Object(v.a)(w.a.mark((function t(c){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,u({variables:{thoughtId:e,commentText:a}});case 4:n=t.sent,n.data,s(""),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{children:"What are your thoughts on this thought?"}),Object(g.jsxs)("p",{className:"m-0 ".concat(280===i||b?"text-danger":""),children:["Character Count: ",i,"/280",b&&Object(g.jsx)("span",{className:"ml-2",children:"Something went wrong..."})]}),Object(g.jsxs)("form",{className:"flex-row justify-center justify-space-between-md align-center",onSubmit:m,children:[Object(g.jsx)("div",{className:"col-12 col-lg-9",children:Object(g.jsx)("textarea",{name:"commentText",placeholder:"Add your comment...",value:a,className:"form-input w-100",style:{lineHeight:"1.5"},onChange:function(t){var e=t.target,c=e.name,n=e.value;"commentText"===c&&n.length<=280&&(s(n),l(n.length))}})}),Object(g.jsx)("div",{className:"col-12 col-lg-3",children:Object(g.jsx)("button",{className:"btn btn-primary btn-block py-3",type:"submit",children:"Add Comment"})})]})]})},D=function(){var t=Object(m.g)().thoughtId,e=Object(x.a)($,{variables:{thoughtId:t}}),c=e.loading,n=e.data,a=(null===n||void 0===n?void 0:n.thought)||{};return c?Object(g.jsx)("div",{children:"Loading..."}):Object(g.jsxs)("div",{className:"my-3",children:[Object(g.jsxs)("h3",{className:"card-header bg-dark text-light p-2 m-0",children:[a.thoughtAuthor," ",Object(g.jsx)("br",{}),Object(g.jsxs)("span",{style:{fontSize:"1rem"},children:["had this thought on ",a.createdAt]})]}),Object(g.jsx)("div",{className:"bg-light py-4",children:Object(g.jsx)("blockquote",{className:"p-4",style:{fontSize:"1.5rem",fontStyle:"italic",border:"2px dotted #1a1a1a",lineHeight:"1.5"},children:a.thoughtText})}),Object(g.jsx)("div",{className:"my-5",children:Object(g.jsx)(L,{comments:a.comments})}),Object(g.jsx)("div",{className:"m-3 p-4",style:{border:"1px dotted #1a1a1a"},children:Object(g.jsx)(z,{thoughtId:a._id})})]})},H=function(){return Object(g.jsx)("header",{className:"bg-info text-light mb-4 py-3 flex-row align-center",children:Object(g.jsxs)("div",{className:"container flex-row justify-space-between-lg justify-center align-center",children:[Object(g.jsx)(b.b,{className:"text-light",to:"/",children:Object(g.jsx)("h1",{className:"m-0",children:"Tech Thoughts"})}),Object(g.jsx)("p",{className:"m-0",children:"Made by Steven Pazur"})]})})},B=function(){var t=Object(m.e)(),e=Object(m.f)();return Object(g.jsx)("footer",{className:"w-100 mt-auto bg-secondary p-4",children:Object(g.jsxs)("div",{className:"container text-center mb-5",children:["/"!==t.pathname&&Object(g.jsx)("button",{className:"btn btn-dark mb-3",onClick:function(){return e(-1)},children:"\u2190 Go Back"}),Object(g.jsxs)("h4",{children:["Made with"," ",Object(g.jsx)("span",{className:"emoji",role:"img","aria-label":"heart","aria-hidden":"false",children:"\u2764\ufe0f"})," ","by the Tech Thoughts team."]})]})})},P=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{children:"Hacking into the mainframe..."}),Object(g.jsxs)("form",{className:"flex-row justify-center justify-space-between-md align-center",children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("input",{name:"thoughtText",placeholder:"Username",className:"form-input w-100"})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("input",{name:"thoughtAuthor",placeholder:"Password",className:"form-input w-100",type:"password"})}),Object(g.jsx)("div",{className:"w-20 mx-auto",children:Object(g.jsx)(b.b,{to:"/",children:Object(g.jsx)("h4",{className:"m-0",children:"Log In"})})})]})]})},J=new d.a({uri:"/graphql",cache:new j.a});var M=function(){return Object(g.jsx)(u.a,{client:J,children:Object(g.jsx)(b.a,{children:Object(g.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(g.jsx)(H,{}),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)(m.c,{children:[Object(g.jsx)(m.a,{path:"/",element:Object(g.jsx)(F,{})}),Object(g.jsx)(m.a,{path:"/thoughts/:thoughtId",element:Object(g.jsx)(D,{})}),Object(g.jsx)(m.a,{path:"/Loginpage",element:Object(g.jsx)(P,{})})]})}),Object(g.jsx)(B,{})]})})})},Q=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,79)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;c(t),n(t),a(t),s(t),r(t)}))};l.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(M,{})}),document.getElementById("root")),Q()}},[[66,1,2]]]);
//# sourceMappingURL=main.54e5a15d.chunk.js.map